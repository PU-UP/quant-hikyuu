# config.py
# -*- coding: utf-8 -*-
"""
投资组合配置文件
你只需要改这里：持仓/现金/目标
"""

from typing import Dict, List

# ============================================================
# 持仓配置
# ============================================================
# 持仓：ticker, group(板块/篮子), shares(股数), cost(成本价), price(现价)
POSITIONS: List[Dict] = [
    {"ticker": "HK创新药", "group": "HK", "shares": 9600, "cost": 1.188, "price": 1.390},
    {"ticker": "恒生科技", "group": "HK", "shares": 21100,  "cost": 0.729, "price": 0.764},
    {"ticker": "盐湖股份", "group": "有色金属", "shares": 700,  "cost": 33.060,"price": 33.220},
    {"ticker": "芯片设备", "group": "半导体", "shares": 8200, "cost": 2.132, "price": 2.354},
    {"ticker": "芯片科创", "group": "半导体", "shares": 9700,  "cost": 2.556, "price": 2.548},
    {"ticker": "立讯精密", "group": "消费电子", "shares": 400,  "cost": 55.118, "price": 53.580},
]

# ============================================================
# 现金配置
# ============================================================
# 现金与其他资金
CASH: Dict = {
    "stock_cash": 72.68,              # 证券账户现金（可用于买入）
    "other_funds_total": 15000,         # 其他账户资金总额（参考）
    "other_funds_investable": 10000,    # 你愿意纳入"可投资池"的其他资金（可为 0）
}

# ============================================================
# 目标仓位配置
# ============================================================
# 目标仓位：按板块/篮子控制（和你描述的 A/B/C/D 一致）
# target_weight：目标权重（总和建议=1.0）
# band：允许偏离（比如 0.10 表示 ±10% 的"相对目标金额偏离"触发再平衡）
TARGETS: List[Dict] = [
    {"group": "HK", "target_weight": 0.25, "band": 0.10},
    {"group": "有色金属", "target_weight": 0.20, "band": 0.10},
    {"group": "半导体", "target_weight": 0.40, "band": 0.10},
    {"group": "消费电子", "target_weight": 0.15, "band": 0.10},
]

# ============================================================
# 交易规则配置
# ============================================================
# 交易纪律（反冲动）
RULES: Dict = {
    # 单次最多动用"证券账户现金"的比例（防冲动）
    "max_trade_cash_fraction": 0.33,   # 例如 0.33：单次最多动用 33% 现金
    # 单次最多把某个板块往上加到"目标+band"之上（通常不建议突破）
    # 这里默认严格遵守目标带宽，不额外突破
}

# ============================================================
# 其他配置
# ============================================================
# 是否把 other_funds_investable 计入"可投资池"
INCLUDE_OTHER_FUNDS: bool = True
